# تقرير مشاكل الترجمة في database.ts

## ملخص المشاكل

تم العثور على **مئات من التفاعلات الدوائية** التي تحتوي على مشاكل في الترجمة:

### أنواع المشاكل:

1. **Mech-Swapped**: الآلية - النص الإنجليزي في مكان العربي أو العكس
2. **Eff-Swapped**: التأثير السريري - النص الإنجليزي في مكان العربي أو العكس
3. **Man-Swapped**: الإدارة - النص الإنجليزي في مكان العربي أو العكس
4. **Mech-Duplicate**: الآلية - نفس النص العربي مكرر في الحقلين
5. **Eff-Duplicate**: التأثير - نفس النص العربي مكرر في الحقلين
6. **Man-Duplicate**: الإدارة - نفس النص العربي مكرر في الحقلين

## أمثلة على المشاكل:

### مثال 1: حقول مقلوبة بالكامل (السطر 810)
```typescript
add('Verapamil', NONDEPOLARIZING_MUSCLE_RELAXANTS, InteractionType.DRUG_DRUG, InteractionSeverity.HIGH,
  'The combination results in a synergistic effect...', // ❌ إنجليزي في مكان العربي
  'تأثير تآزري...', // ❌ عربي في مكان الإنجليزي
  'Prolonged respiratory paralysis...', // ❌ إنجليزي في مكان العربي
  'إطالة أمد الشلل التنفسي...', // ❌ عربي في مكان الإنجليزي
  'Closely monitor respiration...', // ❌ إنجليزي في مكان العربي
  'مراقبة التنفس...' // ❌ عربي في مكان الإنجليزي
);
```

**الإصلاح المطلوب**: عكس ترتيب الحقول

### مثال 2: نص عربي مكرر (السطر 3300)
```typescript
add('Digoxin', 'Licorice', InteractionType.DRUG_FOOD, InteractionSeverity.HIGH,
  'فقدان البوتاسيوم.',
  'فقدان البوتاسيوم.', // ❌ نفس النص العربي بدلاً من الترجمة الإنجليزية
  'تسمم ديجوكسين.',
  'تسمم ديجوكسين.', // ❌ نفس النص العربي بدلاً من الترجمة الإنجليزية
  'تجنب العرقسوس.',
  'تجنب العرقسوس.' // ❌ نفس النص العربي بدلاً من الترجمة الإنجليزية
);
```

**الإصلاح المطلوب**: إضافة الترجمة الإنجليزية الصحيحة

### مثال 3: خليط من المشاكل (السطر 3309)
```typescript
add('Digoxin', 'Furosemide', InteractionType.DRUG_DRUG, InteractionSeverity.HIGH,
  'مدرات البول تسبب نقص البوتاسيوم (Hypokalemia).',
  'مدرات البول تسبب نقص البوتاسيوم (Hypokalemia).', // ❌ مكرر
  'نقص البوتاسيوم يزيد من حساسية القلب للديجوكسين...',
  'نقص البوتاسيوم يزيد من حساسية القلب للديجوكسين...', // ❌ مكرر
  'مراقبة مستوى البوتاسيوم بانتظام...',
  'مراقبة مستوى البوتاسيوم بانتظام...' // ❌ مكرر
);
```

## التفاعلات التي تحتاج إلى إصلاح:

تم العثور على مشاكل في السطور التالية (أول 100 مشكلة):

- السطر 810: Verapamil + NONDEPOLARIZING_MUSCLE_RELAXANTS (جميع الحقول مقلوبة)
- السطر 1407: مشاكل متعددة
- السطر 1425: مشاكل متعددة
- السطر 2010: Management مقلوب
- السطر 2012: Effect و Management مقلوبة
- السطر 2014: جميع الحقول مقلوبة
- السطر 2559: Management مقلوب
- السطر 2561: Effect و Management مقلوبة
- السطر 2684: جميع الحقول مقلوبة
- السطر 2702: Management مقلوب
- السطر 2704: Effect و Management مقلوبة
- السطر 2706: جميع الحقول مقلوبة
- السطر 3182: Management مقلوب
- السطر 3184: Effect و Management مقلوبة
- السطر 3296: Management مقلوب
- السطر 3298: Effect و Management مقلوبة
- السطر 3300: جميع الحقول مكررة (عربي في الإنجليزي)
- السطر 3309: Effect و Management مكررة
- السطر 3318: جميع الحقول مكررة
- السطر 3327: جميع الحقول مكررة
- السطر 3336: Mechanism و Effect مكررة
- السطر 3345: Effect و Management مقلوبة
- السطر 3354: Mechanism و Effect مكررة

... والمزيد (أكثر من 400 تفاعل يحتاج إلى إصلاح)

## الحل المقترح:

نظراً للعدد الكبير من المشاكل، هناك خياران:

### الخيار 1: الإصلاح اليدوي التدريجي
- البدء بإصلاح التفاعلات الأكثر أهمية (HIGH severity)
- إصلاح 10-20 تفاعل في كل مرة
- التركيز على التفاعلات الأكثر استخداماً

### الخيار 2: الإصلاح الآلي (مع مراجعة يدوية)
- كتابة سكريبت لتحديد وإصلاح الحقول المقلوبة تلقائياً
- للحقول المكررة، يحتاج الأمر إلى ترجمة يدوية

## ملاحظات مهمة:

1. **الحقول المقلوبة** يمكن إصلاحها بسهولة عن طريق عكس الترتيب
2. **الحقول المكررة** تحتاج إلى ترجمة إنجليزية جديدة
3. بعض التفاعلات تحتوي على أحرف غريبة (مثل ?????????) مما يشير إلى مشاكل في الترميز

## التوصية:

أقترح البدء بإصلاح التفاعلات ذات الأولوية العالية (HIGH severity) أولاً، ثم الانتقال إلى MODERATE و LOW.

هل تريد مني:
1. إصلاح جميع الحقول المقلوبة تلقائياً؟
2. إنشاء قائمة بالتفاعلات التي تحتاج إلى ترجمة إنجليزية جديدة؟
3. البدء بإصلاح مجموعة محددة من التفاعلات؟
